extend type Query {
    allResidents(page: Int, size: Int, search: String, sortBy: String, sortDirection: String): ResidentPage!
    residentsByBuilding(buildingId: ID!, page: Int, size: Int, search: String, sortBy: String, sortDirection: String): ResidentPage!

    availableRooms(buildingId: ID): [RoomPayload!]!
    allTechnicians(page: Int, size: Int, search: String, sortBy: String, sortDirection: String): ResidentPage!
}



type ResidentPage {
    content: [ResidentPayload!]!
    totalElements: Int!
    totalPages: Int!
    currentPage: Int!
    pageSize: Int!
}

type ResidentPayload {
    id: ID!
    firstName: String!
    lastName: String!
    email: String!
    phone: String
    buildingName: String!
    buildingId: ID
    roomNumber: String!
    roomId: ID
}

type RoomPayload {
    id: ID!
    roomNumber: String!
    capacity: Int!
    currentOccupancy: Int!
    rentAmount: Float
    buildingId: ID!
    buildingName: String!
}

input UpdateProfileInput {
    firstName: String!
    lastName: String!
    email: String!
    phone: String
}

type UserProfilePayload {
    id: ID!
    firstName: String!
    lastName: String!
    email: String!
    phone: String
}

input CreateResidentInput {
    firstName: String!
    lastName: String!
    email: String!
    phone: String
    password: String!

    roomId: ID
}

input CreateTechnicianInput {
    firstName: String!
    lastName: String!
    email: String!
    phone: String
    password: String!
}

extend type Mutation {
    assignRoom(userId: ID!, roomId: ID!): ResidentPayload!
    deleteResident(userId: ID!): Boolean!
    updateMyProfile(input: UpdateProfileInput!): UserProfilePayload!
    createResident(input: CreateResidentInput!): ResidentPayload!
    createTechnician(input: CreateTechnicianInput!): ResidentPayload!
    deleteTechnician(userId: ID!): Boolean!
}