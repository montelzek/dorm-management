<form [formGroup]="form()" (ngSubmit)="onSubmit()" class="space-y-4">
  <!-- Room Number -->
  <div>
    <label for="roomNumber" class="block text-sm font-medium text-text-primary mb-1">
      {{ 'facilities.roomNumber' | translate }} <span class="text-red-500">*</span>
    </label>
    <input
      id="roomNumber"
      type="text"
      formControlName="roomNumber"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text placeholder:text-input-placeholder focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200 hover:border-input-focus-border/50"
      [placeholder]="'facilities.roomNumberPlaceholder' | translate"
      maxlength="20"
    />
    @if (form().get('roomNumber')?.invalid && form().get('roomNumber')?.touched) {
      <p class="mt-1 text-sm text-red-500">
        @if (form().get('roomNumber')?.errors?.['required']) {
          {{ 'facilities.roomNumberRequired' | translate }}
        }
      </p>
    }
  </div>

  <!-- Building -->
  <div>
    <label for="buildingId" class="block text-sm font-medium text-text-primary mb-1">
      {{ 'table.building' | translate }} <span class="text-red-500">*</span>
    </label>
    <select
      id="buildingId"
      formControlName="buildingId"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200"
    >
      <option value="">{{ 'admin.selectBuilding' | translate }}</option>
      @for (building of buildings(); track building.id) {
        <option [value]="building.id">{{ building.name }}</option>
      }
    </select>
    @if (form().get('buildingId')?.invalid && form().get('buildingId')?.touched) {
      <p class="mt-1 text-sm text-red-500">{{ 'facilities.buildingRequired' | translate }}</p>
    }
  </div>

  <!-- Capacity -->
  <div>
    <label for="capacity" class="block text-sm font-medium text-text-primary mb-1">
      {{ 'facilities.capacity' | translate }} <span class="text-red-500">*</span>
    </label>
    <input
      id="capacity"
      type="number"
      formControlName="capacity"
      min="1"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text placeholder:text-input-placeholder focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200 hover:border-input-focus-border/50"
      [placeholder]="'facilities.capacityPlaceholder' | translate"
    />
    @if (form().get('capacity')?.invalid && form().get('capacity')?.touched) {
      <p class="mt-1 text-sm text-red-500">
        @if (form().get('capacity')?.errors?.['required']) {
          {{ 'facilities.capacityRequired' | translate }}
        }
        @if (form().get('capacity')?.errors?.['min']) {
          {{ 'facilities.capacityMinOne' | translate }}
        }
      </p>
    }
  </div>

  <!-- Room Standard Select -->
  <div>
    <label for="standardId" class="block text-sm font-medium text-text-primary mb-1">
      {{ 'facilities.roomStandard' | translate }} <span class="text-red-500">*</span>
    </label>
    <select
      id="standardId"
      formControlName="standardId"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200"
    >
      <option value="">{{ 'facilities.selectStandard' | translate }}</option>
      @for (std of standards(); track std.id) {
        <option [value]="std.id">{{ std.name }} — {{ std.capacity }} os. — {{ std.price }} PLN</option>
      }
    </select>
    @if (form().get('standardId')?.invalid && form().get('standardId')?.touched) {
      <p class="mt-1 text-sm text-red-500">{{ 'facilities.roomStandardRequired' | translate }}</p>
    }
  </div>

  <div class="flex justify-end gap-3 pt-4">
    <app-button variant="secondary" size="md" type="button" (click)="onCancel()">
      {{ 'common.cancel' | translate }}
    </app-button>
    <app-button variant="primary" size="md" type="submit" [disabled]="isLoading()">
      @if (isLoading()) {
        <span>{{ (isEdit() ? 'facilities.updatingRoom' : 'facilities.creatingRoom') | translate }}</span>
      } @else {
        <span>{{ (isEdit() ? 'facilities.updateRoom' : 'facilities.createRoom') | translate }}</span>
      }
    </app-button>
  </div>
</form>
