<form [formGroup]="form()" (ngSubmit)="onSubmit()" class="space-y-4">
  <!-- Title -->
  <div>
    <label for="title" class="block text-sm font-medium text-text-primary mb-1">
      {{ 'issues.form.title' | translate }} <span class="text-red-500">*</span>
    </label>
    <input
      id="title"
      type="text"
      formControlName="title"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text placeholder:text-input-placeholder focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200 hover:border-input-focus-border/50"
      [placeholder]="'issues.form.titlePlaceholder' | translate"
      maxlength="200"
    />
    @if (form().get('title')?.invalid && form().get('title')?.touched) {
      <p class="mt-1 text-sm text-red-500">
        @if (form().get('title')?.errors?.['required']) {
          {{ 'issues.form.titleRequired' | translate }}
        }
        @if (form().get('title')?.errors?.['maxlength']) {
          {{ 'issues.form.titleMaxLength' | translate }}
        }
      </p>
    }
  </div>

  <!-- Description -->
  <div>
    <label for="description" class="block text-sm font-medium text-text-primary mb-1">
      {{ 'issues.form.description' | translate }} <span class="text-red-500">*</span>
    </label>
    <textarea
      id="description"
      formControlName="description"
      rows="5"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text placeholder:text-input-placeholder focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200 hover:border-input-focus-border/50"
      [placeholder]="'issues.form.descriptionPlaceholder' | translate"
      maxlength="2000"
    ></textarea>
    @if (form().get('description')?.invalid && form().get('description')?.touched) {
      <p class="mt-1 text-sm text-red-500">
        @if (form().get('description')?.errors?.['required']) {
          {{ 'issues.form.descriptionRequired' | translate }}
        }
        @if (form().get('description')?.errors?.['maxlength']) {
          {{ 'issues.form.descriptionMaxLength' | translate }}
        }
      </p>
    }
    <p class="mt-1 text-sm text-text-secondary">
      {{ form().get('description')?.value?.length || 0 }} / 2000
    </p>
  </div>

  <!-- Priority -->
  <div>
    <label for="priority" class="block text-sm font-medium text-text-primary mb-1">
      {{ 'issues.form.priority' | translate }} <span class="text-red-500">*</span>
    </label>
    <select
      id="priority"
      formControlName="priority"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text placeholder:text-input-placeholder focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200 hover:border-input-focus-border/50"
    >
      <option value="">{{ 'issues.selectPriority' | translate }}</option>
      <option value="LOW">{{ 'issues.priority.low' | translate }}</option>
      <option value="MEDIUM">{{ 'issues.priority.medium' | translate }}</option>
      <option value="HIGH">{{ 'issues.priority.high' | translate }}</option>
      <option value="URGENT">{{ 'issues.priority.urgent' | translate }}</option>
    </select>
    @if (form().get('priority')?.invalid && form().get('priority')?.touched) {
      <p class="mt-1 text-sm text-red-500">
        {{ 'issues.form.priorityRequired' | translate }}
      </p>
    }
  </div>

  <!-- Buttons -->
  <div class="flex justify-end gap-3 pt-4">
    <app-button
      type="button"
      variant="secondary"
      (click)="onCancel()"
      [disabled]="isLoading()"
    >
      {{ 'common.cancel' | translate }}
    </app-button>
    <app-button
      type="submit"
      variant="primary"
      [disabled]="isLoading()"
    >
      {{ isLoading() ? ('issues.form.reporting' | translate) : ('issues.reportIssue' | translate) }}
    </app-button>
  </div>
</form>

