<form [formGroup]="form()" (ngSubmit)="onSubmit()" class="space-y-4">
  <!-- Title -->
  <div>
    <label for="title" class="block text-sm font-medium text-text-primary mb-1">
      Title <span class="text-red-500">*</span>
    </label>
    <input
      id="title"
      type="text"
      formControlName="title"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text placeholder:text-input-placeholder focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200 hover:border-input-focus-border/50"
      placeholder="Brief description of the issue"
      maxlength="200"
    />
    @if (form().get('title')?.invalid && form().get('title')?.touched) {
      <p class="mt-1 text-sm text-red-500">
        @if (form().get('title')?.errors?.['required']) {
          Title is required
        }
        @if (form().get('title')?.errors?.['maxlength']) {
          Title cannot exceed 200 characters
        }
      </p>
    }
  </div>

  <!-- Description -->
  <div>
    <label for="description" class="block text-sm font-medium text-text-primary mb-1">
      Description <span class="text-red-500">*</span>
    </label>
    <textarea
      id="description"
      formControlName="description"
      rows="5"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text placeholder:text-input-placeholder focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200 hover:border-input-focus-border/50"
      placeholder="Detailed description of the issue..."
      maxlength="2000"
    ></textarea>
    @if (form().get('description')?.invalid && form().get('description')?.touched) {
      <p class="mt-1 text-sm text-red-500">
        @if (form().get('description')?.errors?.['required']) {
          Description is required
        }
        @if (form().get('description')?.errors?.['maxlength']) {
          Description cannot exceed 2000 characters
        }
      </p>
    }
    <p class="mt-1 text-sm text-text-secondary">
      {{ form().get('description')?.value?.length || 0 }} / 2000
    </p>
  </div>

  <!-- Priority -->
  <div>
    <label for="priority" class="block text-sm font-medium text-text-primary mb-1">
      Priority <span class="text-red-500">*</span>
    </label>
    <select
      id="priority"
      formControlName="priority"
      class="w-full rounded-lg border-2 border-input-border bg-input-bg px-4 py-3 text-input-text placeholder:text-input-placeholder focus:border-input-focus-border focus:outline-none focus:ring-2 focus:ring-input-focus-border focus:ring-opacity-50 transition-all duration-200 hover:border-input-focus-border/50"
    >
      <option value="">Select priority</option>
      <option value="LOW">Low</option>
      <option value="MEDIUM">Medium</option>
      <option value="HIGH">High</option>
      <option value="URGENT">Urgent</option>
    </select>
    @if (form().get('priority')?.invalid && form().get('priority')?.touched) {
      <p class="mt-1 text-sm text-red-500">
        Priority is required
      </p>
    }
  </div>

  <!-- Buttons -->
  <div class="flex justify-end gap-3 pt-4">
    <app-button
      type="button"
      variant="secondary"
      (click)="onCancel()"
      [disabled]="isLoading()"
    >
      Cancel
    </app-button>
    <app-button
      type="submit"
      variant="primary"
      [disabled]="isLoading()"
    >
      {{ isLoading() ? 'Reporting...' : 'Report Issue' }}
    </app-button>
  </div>
</form>

